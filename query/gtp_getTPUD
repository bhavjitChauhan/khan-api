query gtp_getTPUD($examId: String!) {
  checkpoints(examId: $examId) {
    ...gtp_checkpointFragment
    __typename
  }
  exam(examId: $examId) {
    id
    userData {
      id
      practiceTests {
        ...gtp_practiceTestFragment
        __typename
      }
      __typename
    }
    __typename
  }
  drillStage(examId: $examId) {
    id
    numCreditedTasks
    creditedTaskIds
    __typename
  }
  tpud(examId: $examId) {
    ...gtp_tpudFragment
    __typename
  }
}

fragment gtp_checkpointFragment on Checkpoint {
  id
  stages {
    numCreditedTasks
    creditedTaskIds
    goalTasks
    stageIndex
    stageDisplayNumber
    startedAt
    completedAt
    incomingLevels {
      name
      level
      __typename
    }
    focusAreas {
      skillTitle
      areaId
      areaTitle
      __typename
    }
    __typename
  }
  checkpointIndex
  startedAt
  completedAt
  drillMode
  isComplete
  removedFromSchedule
  hasDonePracticeTasks
  numStages
  canCreateNewStage
  hasDonePracticeTasks
  miniSectionStages
  tmsTaskIds
  __typename
}

fragment gtp_practiceTestFragment on PracticeTest {
  id
  practiceTestId
  approxTestMins
  testTitle
  directions
  formCode
  hasStarted
  completionStatus
  completedAt
  subScores {
    name
    score
    __typename
  }
  sections {
    sectionId
    taskId
    exerciseName
    isScored
    sectionTitle
    numCorrect
    numTotal
    durationSeconds
    breakDurationSeconds
    hasUserGrading
    completed
    userProvidedScores {
      score
      minScore
      maxScore
      __typename
    }
    __typename
  }
  __typename
}

fragment gtp_tpudFragment on TestPrepUserData {
  id
  examId
  currentStage
  currentCheckpoint
  targetScore
  diagnosticsStates {
    type
    state
    __typename
  }
  onboardingState
  hasSeededSkillLevels
  hasUnlockedDrillMode
  scoreInfo {
    minScore
    maxScore
    __typename
  }
  schedule {
    examDate
    practiceTestDates
    __typename
  }
  __typename
}