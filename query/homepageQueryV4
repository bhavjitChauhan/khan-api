query homepageQueryV4($kaid: String, $username: String) {
  actorUser: user {
    id
    hasAccessToAIGuideLearner
    isAIGuideEnabled
    canViewAiGuideHistory: hasPermission(name: "can_view_ai_guide_history")
    canManageDistrictStudent(studentKaid: $kaid)
    __typename
  }
  user(kaid: $kaid, username: $username) {
    id
    kaid
    isActor
    isCoachedByActor
    isManagedByActor
    isAIGuideEnabled
    canViewUserProgress: actorHasUserScopedPermission(
      capability: CAN_VIEW_USER_PROGRESS
    )
    canViewTeachersAndClassrooms: actorHasUserScopedPermission(
      capability: CAN_VIEW_TEACHERS_AND_CLASSROOMS
    )
    isDistrictSynced
    isKmapSynced
    userDistrictInfos {
      id
      currentMathAssessment {
        id
        mapTestKey
        __typename
      }
      gradeLevel
      __typename
    }
    homepageModules {
      navigation {
        myCoursesEnabled
        interestedInLsat
        classes {
          classroom {
            id
            descriptor
            cacheId
            name
            coach {
              id
              kaid
              __typename
            }
            signupCode
            topics {
              id
              __typename
            }
            createdOn
            __typename
          }
          showAssignments
          hasActiveAssignments
          hasKmapGoals
          hasNonMapGoals
          isKmap
          isK4d
          latestDueDate
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
  hasAccessToAIGuideDev
}