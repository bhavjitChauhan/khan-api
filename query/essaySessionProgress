query essaySessionProgress($essaySessionID: String!, $pageSize: Int!, $offset: Int!) {
  essaySession(essaySessionID: $essaySessionID) {
    id
    kaid
    gettingStartedThread {
      id
      lastUpdatedAt
      __typename
    }
    outliningThreadID
    draftingThreadID
    assignmentId: assignmentID
    essayInstructions
    essayTitle
    essayType
    minimumWordCount
    studentGradeLevel
    mostRecentEditedText
    completed
    draft {
      id
      feedbackList {
        dimension
        feedbackID
        feedbackText
        _USE_feedbackID_INSTEAD_: id
        isPositive
        isResolved
        relevantParagraphId
        relevantQuotedText
        thread {
          id
          __typename
        }
        __typename
      }
      __typename
    }
    history(pageSize: $pageSize, offset: $offset) {
      ...EssayHistory
      __typename
    }
    learningTime {
      understandingSeconds: promptReviewingSeconds
      __typename
    }
    __typename
  }
}

fragment EssayHistory on UserEssayHistoryPage {
  hasMore
  snapshots {
    snapshotIndex
    details {
      firstIncludedVersion
      firstIncludedEditTimestamp
      lastIncludedVersion
      lastIncludedEditTimestamp
      content
      __typename
    }
    ... on UserEssayTextSnapshot {
      stage
      learningTimeSeconds
      __typename
    }
    ... on UserEssayOutlineSnapshot {
      learningTimeSeconds
      __typename
    }
    __typename
  }
  __typename
}