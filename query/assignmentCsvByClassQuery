query assignmentCsvByClassQuery($classDescriptor: String!, $filters: CoachAssignmentFilters!, $orderBy: AssignmentOrder!, $after: ID, $teacherKaid: String!) {
  classroom: classroomByDescriptor(descriptor: $classDescriptor) {
    id
    cacheId
    assignmentsPage(filters: $filters, orderBy: $orderBy, after: $after) {
      assignments {
        ...AssignmentCsvData
        __typename
      }
      pageInfo {
        nextCursor
        __typename
      }
      __typename
    }
    __typename
  }
}

fragment AssignmentCsvData on Assignment {
  assignedDate
  startDate
  dueDate
  id
  title
  configuredActivityInputs
  contents {
    id
    title: translatedTitle
    defaultUrlPath
    kind
    __typename
  }
  itemCompletionStates: itemCompletionStatesForAllStudents {
    student {
      id
      coachNickname(teacherKaid: $teacherKaid)
      profileRoot
      __typename
    }
    state
    completedOn
    bestScore {
      numCorrect
      numAttempted
      __typename
    }
    exerciseAttempts {
      id
      isCompleted
      isRestarted
      numAttempted
      numCorrect
      lastAttemptDate
      __typename
    }
    activitySubmissions {
      thread {
        id
        __typename
      }
      __typename
    }
    essaySession {
      id
      currentStage
      completed
      lastUpdated
      wordCount
      draft {
        id
        feedbackList {
          id
          isPositive
          isResolved
          __typename
        }
        __typename
      }
      learningTime {
        promptReviewingSeconds
        outliningSeconds
        draftingSeconds
        revisingSeconds
        __typename
      }
      originalityFlags {
        isCritical
        ... on UserEssayOriginalityFlagPasteIntoOutline {
          location
          wordCount
          outlineVersionBeforePaste
          __typename
        }
        ... on UserEssayOriginalityFlagPasteIntoText {
          stage
          wordCount
          essayVersionBeforePaste
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
  studentList {
    id
    cacheId
    name
    __typename
  }
  __typename
}