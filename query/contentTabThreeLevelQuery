query contentTabThreeLevelQuery($courseId: String!, $region: String!, $locale: String!) {
  courseById(id: $courseId) {
    id
    children: curatedChildren {
      ...CourseFieldsThreeLevels
      ...LessonAndChildrenFieldsThreeLevels
      ... on Unit {
        id
        description
        iconPath
        key
        kind
        mappedStandardIds(locale: $locale, region: $region)
        title: translatedTitle
        children: allOrderedChildren {
          __typename
          ...LearnableContentFieldsThreeLevels
          ...QuizAndTestFields
          ...LessonAndChildrenFieldsThreeLevels
        }
        __typename
      }
      __typename
    }
    courseChallenge {
      id
      contentId
      defaultUrlPath
      description
      kind
      mappedStandardIds(locale: $locale, region: $region)
      title: translatedTitle
      expectedDoNCount: exerciseLength
      __typename
    }
    domain: parent {
      id
      contentKind
      __typename
    }
    __typename
  }
}

fragment CourseFieldsThreeLevels on Course {
  ... on Course {
    id
    description
    iconPath
    key
    kind
    mappedStandardIds(locale: $locale, region: $region)
    title: translatedTitle
    __typename
  }
  __typename
}

fragment LearnableContentFieldsThreeLevels on LearnableContent {
  contentId
  description
  kind
  mappedStandardIds(locale: $locale, region: $region)
  nodeUrl: urlWithinTopic
  slug
  title: translatedTitle
  __typename
}

fragment LessonAndChildrenFieldsThreeLevels on Lesson {
  ... on Lesson {
    id
    description
    iconPath
    key
    kind
    mappedStandardIds(locale: $locale, region: $region)
    title: translatedTitle
    children {
      __typename
      ...LearnableContentFieldsThreeLevels
      ... on Video {
        duration
        imageUrl
        translatedYoutubeId
        youtubeId
        __typename
      }
      ... on Exercise {
        expectedDoNCount: exerciseLength(useDefault: true)
        problemTypeKind
        __typename
      }
    }
    __typename
  }
  __typename
}

fragment QuizAndTestFields on LearnableContent {
  ... on TopicQuiz {
    coveredTutorials {
      id
      title: translatedTitle
      __typename
    }
    defaultUrlPath
    expectedDoNCount: exerciseLength
    index
    __typename
  }
  ... on TopicUnitTest {
    defaultUrlPath
    expectedDoNCount: exerciseLength
    __typename
  }
  __typename
}