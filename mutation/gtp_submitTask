mutation gtp_submitTask($taskId: ID!, $taskType: String!, $newTaskState: JSONString!, $newTaskStateHash: ID!, $prevTaskStateHash: ID) {
  submitTask(
    taskId: $taskId
    taskType: $taskType
    newTaskState: $newTaskState
    newTaskStateHash: $newTaskStateHash
    prevTaskStateHash: $prevTaskStateHash
  ) {
    checkpoints {
      ...gtp_checkpointFragment
      __typename
    }
    descriptorList {
      id
      checkpointStr
      ...gtp_descriptorsFragment
      __typename
    }
    practiceTest {
      ...gtp_practiceTestFragment
      __typename
    }
    task {
      ...gtp_taskFragment
      __typename
    }
    tpud {
      ...gtp_tpudFragment
      __typename
    }
    egud {
      ...gtp_egudFragment
      __typename
    }
    essayScores {
      ...gtp_essayScoresFragment
      __typename
    }
    __typename
  }
}

fragment gtp_checkpointFragment on Checkpoint {
  id
  stages {
    numCreditedTasks
    creditedTaskIds
    goalTasks
    stageIndex
    stageDisplayNumber
    startedAt
    completedAt
    incomingLevels {
      name
      level
      __typename
    }
    focusAreas {
      skillTitle
      areaId
      areaTitle
      __typename
    }
    __typename
  }
  checkpointIndex
  startedAt
  completedAt
  drillMode
  isComplete
  removedFromSchedule
  hasDonePracticeTasks
  numStages
  canCreateNewStage
  hasDonePracticeTasks
  miniSectionStages
  tmsTaskIds
  __typename
}
fragment gtp_egudFragment on ExamGroupUserData {
  id
  practiceDaysInfo {
    day
    hour
    length
    minute
    __typename
  }
  selectedCutoffIdentifiers
  selectedExams
  initialSelectedExams
  dailyActivityHistory {
    date
    activityHistory {
      examsCompleted
      problemsDone
      secondsSpent
      status
      cta {
        type
        minutes
        __typename
      }
      __typename
    }
    __typename
  }
  extendedTimeMultiplier
  __typename
}
fragment gtp_essayScoresFragment on EssayScores {
  areas {
    translatedTitle
    essays {
      examCompletionDate
      score
      maxScore
      __typename
    }
    __typename
  }
  __typename
}
fragment gtp_practiceTestFragment on PracticeTest {
  id
  practiceTestId
  approxTestMins
  testTitle
  directions
  formCode
  hasStarted
  completionStatus
  completedAt
  subScores {
    name
    score
    __typename
  }
  sections {
    sectionId
    taskId
    exerciseName
    isScored
    sectionTitle
    numCorrect
    numTotal
    durationSeconds
    breakDurationSeconds
    hasUserGrading
    completed
    userProvidedScores {
      score
      minScore
      maxScore
      __typename
    }
    __typename
  }
  __typename
}
fragment gtp_taskFragment on Task {
  id
  kaid
  examId
  taskType
  secondsTaken
  taskDurationSeconds
  translatedTitle
  creationDatetime
  startDatetime
  completed
  receivedCredit
  completionDatetime
  stage
  checkpoint
  taskContent {
    concepts {
      item {
        conceptId
        translatedTitle
        __typename
      }
      questions {
        conceptId
        translatedTitle
        __typename
      }
      __typename
    }
    id
    itemData
    itemShapeType
    skills {
      item {
        areaId
        skillId
        skillContentId
        translatedTitle
        __typename
      }
      questions {
        areaId
        skillId
        skillContentId
        translatedTitle
        __typename
      }
      __typename
    }
    gradingMetadata {
      instructions
      promptTitle
      responseTitle
      minScore
      maxScore
      rubric {
        article {
          id
          perseusContent
          __typename
        }
        __typename
      }
      scoreExamples {
        score
        article {
          id
          perseusContent
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
  taskState
  taskStateHash
  exerciseName
  itemIds
  areaId
  areaTitle
  ... on SkillTask {
    skillId
    skill {
      description
      __typename
    }
    level
    incomingSkillLevelLabel {
      label
      skillLevel
      __typename
    }
    outgoingSkillLevelLabel {
      label
      skillLevel
      __typename
    }
    __typename
  }
  ... on TmsTask {
    directions
    extendedTaskState
    startExtendedTimeDt
    __typename
  }
  ... on TestSectionTask {
    directions
    __typename
  }
  ... on ExpressDiagnosticTask {
    directions
    skillLevels {
      skillName
      minLevel
      maxLevel
      level
      __typename
    }
    __typename
  }
  __typename
}
fragment gtp_tpudFragment on TestPrepUserData {
  id
  examId
  currentStage
  currentCheckpoint
  targetScore
  diagnosticsStates {
    type
    state
    __typename
  }
  onboardingState
  hasSeededSkillLevels
  hasUnlockedDrillMode
  scoreInfo {
    minScore
    maxScore
    __typename
  }
  schedule {
    examDate
    practiceTestDates
    __typename
  }
  __typename
}